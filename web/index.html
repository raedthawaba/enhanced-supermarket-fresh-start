<!DOCTYPE html>
<html>
<head>
  <!--
    The "theme color" should match the color used for the OS status bar.
    See: https://developers.google.com/web/updates/2015/09/setting-theme-color
  -->
  <meta name="theme-color" content="#4CAF50">
  
  <meta charset="UTF-8">
  <meta content="IE=Edge" http-equiv="X-UA-Compatible">
  <meta name="description" content="Ù…ØªØ¬Ø± Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…ØªÙƒØ§Ù…Ù„ Ù„Ù„Ø³ÙˆØ¨Ø± Ù…Ø§Ø±ÙƒØª">
  <meta name="keywords" content="Ø³ÙˆØ¨Ø± Ù…Ø§Ø±ÙƒØª, Ù…ØªØ¬Ø± Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ, ØªØ³ÙˆÙ‚, Ù…Ù†ØªØ¬Ø§Øª Ø·Ø§Ø²Ø¬Ø©">
  <meta name="author" content="MiniMax Agent">
  
  <!-- iOS Safari meta tags -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Ù…ØªØ¬Ø± Ø§Ù„Ø³ÙˆØ¨Ø± Ù…Ø§Ø±ÙƒØª">
  
  <!-- Favicon -->
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  
  <title>Ù…ØªØ¬Ø± Ø§Ù„Ø³ÙˆØ¨Ø± Ù…Ø§Ø±ÙƒØª Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</title>
  
  <!-- Google Fonts for Arabic support -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
  
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Cairo', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      direction: rtl;
      text-align: right;
      background-color: #f5f5f5;
    }
    
    .loading-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      background: linear-gradient(135deg, #4CAF50 0%, #81C784 100%);
      color: white;
      text-align: center;
    }
    
    .loading-logo {
      width: 120px;
      height: 120px;
      background: white;
      border-radius: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 30px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      animation: pulse 2s infinite;
    }
    
    .loading-icon {
      font-size: 60px;
      color: #4CAF50;
    }
    
    .loading-title {
      font-size: 32px;
      font-weight: bold;
      margin-bottom: 10px;
      text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }
    
    .loading-subtitle {
      font-size: 16px;
      opacity: 0.9;
      margin-bottom: 40px;
    }
    
    .loading-spinner {
      width: 40px;
      height: 40px;
      border: 4px solid rgba(255,255,255,0.3);
      border-top: 4px solid white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    .loading-text {
      margin-top: 20px;
      font-size: 14px;
      opacity: 0.8;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    
    /* Hide loading screen when Flutter app loads */
    .app-loaded .loading-container {
      display: none;
    }
    
    /* Error message styles */
    .error-container {
      display: none;
      text-align: center;
      padding: 20px;
      color: #d32f2f;
      background: #ffebee;
      border-radius: 8px;
      margin: 20px;
    }
    
    /* PWA styles */
    @media (display-mode: standalone) {
      body {
        user-select: none;
        -webkit-user-select: none;
      }
    }
    
    /* Responsive design */
    @media (max-width: 768px) {
      .loading-title {
        font-size: 24px;
      }
      .loading-logo {
        width: 80px;
        height: 80px;
      }
      .loading-icon {
        font-size: 40px;
      }
    }
  </style>
  
  <!-- Prevent FOUC (Flash of Unstyled Content) -->
  <script>
    document.documentElement.className += ' js-loading';
  </script>
</head>

<body>
  <!-- Loading Screen -->
  <div class="loading-container">
    <div class="loading-logo">
      <div class="loading-icon">ğŸ›’</div>
    </div>
    <h1 class="loading-title">Ù…ØªØ¬Ø± Ø§Ù„Ø³ÙˆØ¨Ø± Ù…Ø§Ø±ÙƒØª</h1>
    <p class="loading-subtitle">Ù…ØªØ¬Ø±Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚</p>
    <div class="loading-spinner"></div>
    <p class="loading-text">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>
  </div>
  
  <!-- Error container (shown if loading fails) -->
  <div class="error-container" id="error-container">
    <h3>Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</h3>
    <p>ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„Ùƒ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©</p>
    <button onclick="location.reload()" style="
      background: #4CAF50;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 10px;
    ">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©</button>
  </div>
  
  <!-- Flutter Web App -->
  <script src="flutter.js" defer></script>
  <script>
    // Load Flutter app
    window.addEventListener('load', function(ev) {
      _flutter.loader.loadEntrypoint({
        serviceWorker: {
          serviceWorkerVersion: null,
        }
      }).then(function(engineInitializer) {
        return engineInitializer.initializeEngine();
      }).then(function(appRunner) {
        // Hide loading screen when app is ready
        document.documentElement.classList.remove('js-loading');
        document.documentElement.classList.add('app-loaded');
        appRunner.runApp();
      }).catch(function(error) {
        // Show error message if app fails to load
        console.error('Error loading Flutter app:', error);
        document.querySelector('.loading-container').style.display = 'none';
        document.getElementById('error-container').style.display = 'block';
      });
    });
  </script>
  
  <!-- Analytics (for future implementation) -->
  <script>
    // Google Analytics or other analytics can be added here
    console.log('Supermarket App Web - Version 1.0.0');
  </script>
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="/manifest.json">
</body>
</html>